function [y1] = myNN2(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 23-Jun-2016 20:57:07.
%
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = Qx1 matrix, input #1
% and returns:
%   y = Qx1 matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = 232;
x1_step1.gain = 0.000545851528384279;
x1_step1.ymin = -1;

% Layer 1
b1 = [-280.00014271457485;-277.18610652971097;-274.37187384952335;271.55779687459722;-268.74371932532733;-265.92964824399388;263.11557788944828;260.30150753768845;257.48743718592965;-254.67336683417088;251.85929648241205;-249.04522613065325;-246.23115577889448;243.41708542713567;240.6030150753769;237.7889447236181;-234.9748743718593;-232.1608040201001;229.34673366853929;-226.5326632900919;223.71859466344188;-220.90452284852151;-218.09045233863279;215.27638190946553;212.46231155829298;209.64824116847464;-206.83417091354113;-204.02010047442809;-201.20603008453716;-198.39196011993891;-195.57788952814013;-192.76381919933846;-189.94974848689031;-187.13567838972631;184.32160784340456;-181.50753757202787;-178.69346745818225;-175.87939622380543;-173.06532802729444;-170.25125028691716;-167.4371815983047;-164.62311634984306;-161.8090369595285;158.99498184719735;156.18091188946997;-153.36682308724565;-150.55276153637107;-147.73869960403505;144.92462453714384;-142.11054532933025;139.29647517049142;-136.48238785703091;-133.6683310961177;130.85428455800962;128.04018773935536;-125.22612349147093;-122.41206800478584;119.5979942424707;116.7839232823419;-113.96985856490372;111.1557738577464;-108.34170851184754;105.52763608976643;-102.71357459182607;-99.899500962707549;-97.08542431305969;-94.271360287550991;91.457285076570727;88.643204312839131;85.829162109242347;83.015062695078726;80.200984700158756;77.386926065109634;74.572873262209995;71.758806661475774;-68.9447321561465;66.130647788251423;-63.316590976205816;60.502512911918373;57.688445711164398;-54.874372403350797;52.06030335182399;49.246231735410575;46.432161980517584;-43.618090689899432;40.804020605367455;37.989948574744403;35.175880321088712;-32.361810108595471;29.547739348197599;-26.733668611700846;23.919595156711807;-21.10552837843375;-18.291457352708274;-15.477387326852538;12.663316604305972;9.8492461813082546;-7.0351758773555479;4.2211062080727535;1.4070357712976944;1.4070358087377948;-4.2211081226632201;-7.0351769216337381;9.8492449967752833;-12.663316878978181;15.477388498784673;-18.29145878842289;21.105531192485337;-23.91959700722273;26.733667614669073;-29.547739138655256;32.361806976816496;35.175884894376111;-37.989951636434427;-40.804020041944923;-43.618089529824999;-46.432165082835198;-49.246230058272509;-52.060295846101276;-54.874388689531322;57.688463082377901;-60.50256894606499;-63.316550812512816;-66.130661181188046;-68.94477379344913;71.75871044074934;-74.57284036260323;-77.386895842766378;-80.200963322808278;83.01511454485005;85.82910475783541;-88.643215670311434;91.457276599973127;94.271383531562819;-97.085440115045188;99.899456195648938;102.71360471954699;105.52762022082716;-108.34168256862212;-111.1558035456665;113.96983653614311;116.78400572983502;119.59796327352007;122.41203534814572;125.22620269780714;128.04015048317484;130.85423493268067;-133.66838483628987;-136.48244438377057;139.29667778842941;142.11079585008594;144.92445069566509;-147.73851229059667;-150.55287166626542;-153.36687132143209;-156.18106937759265;-158.99527462412274;-161.80874699954794;164.623638093609;-167.43818726009121;170.25094435076204;-173.06406340810088;175.87974168072961;178.69526177623098;181.50680276996451;-184.32348604409844;-187.13754848652431;189.9494728478312;-192.76584621872837;195.57956026457705;-198.39155893286147;201.21042423438593;-204.03039820699522;206.8449026298147;-209.67729126680479;212.66812957776548;-215.51854621224828;217.73581892413318;220.83873991476921;223.61711959390632;-226.52646327033619;229.39538742949011;232.24336772271238;235.02249493155688;-237.89709203685018;240.44186855688278;243.45101697198024;-246.59625416294344;248.92919624319444;251.83832779361114;-254.65644134967371;257.4818532165869;260.29738147170173;263.10541585875586;-265.92372979438125;-268.73979813003626;-271.55706217324359;-274.37128289301916;277.18308583864916;279.99972398081223];
IW1_1 = [279.99985777597789;279.99982429625067;279.99998572267731;-279.99999229869019;279.99999929373541;279.99999999731239;-279.99999999999898;-280;-280;280;-280;280;280;-280;-280;-280;280;280.00000000000034;-279.99999999984152;280.00000002124756;-279.99999864387564;279.99999981413322;279.9999999391116;-280.0000000000648;-279.99999999962273;-280.00000002810265;279.9999999563006;280.00000002046244;280.00000004743771;279.99999977333368;279.9999999434574;279.99999992842822;280.00000017435372;280.00000000149146;-280.00000012982707;280.00000007557179;279.99999992257324;280.00000047771715;279.99999913974784;280.00000364319135;280.00000259004412;279.99999954622984;280.00000477426352;-279.99999603840382;-279.99999589143937;280.00000606634126;280.00000122725896;279.99999675956957;-279.99999926413949;280.00000376353034;-280.00000359694792;280.00001177520448;280.00000507924693;-279.99999382266441;-280.00000607204964;280.00000320179925;279.99999663711731;-279.99999816673608;-279.99999846369059;279.99999620202004;-280.00000200311388;280.00000001191745;-280.00000079101926;279.9999975246721;279.99999875373891;280.00000097322771;279.99999881506517;-280.00000044273509;-280.0000037101297;-279.99999497752378;-280.00000375915789;-280.00000581471465;-280.00000238758014;-279.99999761460936;-279.99999674980154;279.99999789782021;-280.00000128817362;279.9999981728314;-279.99999992422283;-279.99999927978422;279.99999989354114;-279.99999965559459;-279.99999989773585;-279.99999980376907;279.9999999629112;-279.99999992671701;-280.00000015865862;-279.99999988376106;279.99999987719542;-279.99999993091421;279.99999997441051;-280.00000024199488;279.99999994364168;279.99999999575351;279.99999997788564;-279.9999999990207;-280.00000000180978;280.00000000004877;-279.99999999040676;-279.99999999712054;279.99999999653295;-279.99999996054919;-279.99999997423305;280.00000004233749;-279.99999998664913;279.99999991217379;-279.99999990194578;279.99999973121788;-280.00000008240301;280.00000006927672;-279.99999995266603;280.00000024051621;279.99999930868654;-279.99999974527753;-280.00000000859114;-280.00000014439661;-279.99999929249253;-280.00000019339655;-280.00000105114987;-279.99999668943366;279.99999569220103;-279.99998776686186;-280.00000726391329;-279.99999813739726;-279.99998755126586;280.0000214256749;-280.00000635577044;-280.00001073927041;-280.0000119354554;279.99998834907802;280.00001250588201;-280.00000012965012;280.00000321202151;279.99999099384246;-279.9999954903293;280.00001471255177;279.99998647427611;280.00000678150224;-280.00001004631298;-279.999990202427;280.00000517282814;279.99996407323738;280.00001138788241;280.00001091444472;279.99996779810147;280.00002309787664;280.00001700367409;-279.99997938989213;-279.99998422670143;279.99990264478777;279.99987661312406;280.00008920416559;-280.00009555953949;-279.99994205796077;-279.99997964277691;-279.99990797086394;-279.99982972732784;-280.00017236580817;279.99969273451057;-279.99940056336374;280.00018968072737;-280.00078075053517;279.99978345586538;279.99885439058664;280.00047622191863;-279.99876232362016;-279.99874956174517;280.00018699911146;-279.99860394303272;279.99883161179082;-280.00028380516039;279.99684226731944;-279.99248293499738;279.99206566268811;-279.97821742544897;279.84345780234514;-279.81594619098354;280.27520826219927;280.05185845613408;280.08169736741752;-280.00488269180738;279.96014840653567;279.93174911712606;279.9602358324708;-279.90812928540072;280.13825779813521;279.97038574095745;-279.67968776756396;280.10299026480999;280.01885569123942;-280.01537166377909;280.00513568802342;280.00383403719002;280.00954317848698;-280.0056206914781;-280.00376021693319;-280.00070498124268;-280.00056470346732;280.002814222278;280.00027482418426];

% Layer 2
b2 = -0.0051354878387018217;
LW2_1 = [-0.19485243371816921 -0.26613342530610218 -0.30785527647070432 0.29939771229293127 -0.30865480728373168 -0.25280640742943755 0.021715617149935869 0.036835186136401042 0.28279889014038617 0.32452900074888485 -0.12145489782666843 -0.29020108509502229 -0.25777870844367839 0.16193866599737514 0.027560422651137197 0.058141822640381244 -0.029076611244776205 0.088005555469715113 0.11477429665998923 0.071578317439322539 0.19196381564649764 -0.016735036063191423 -0.2932767190717156 -0.094768809661674794 0.14967926322240638 -0.14536409462742475 -0.27192283357947494 0.12123665045778223 0.23439062525146792 -0.28635443133536043 -0.02482148528371185 -0.044144794987190469 0.26699168602629192 0.0098556022902676239 -0.32952993339878095 0.16929367852261323 -0.14715425950290922 0.32212472734301806 -0.24321513583616158 0.28086114754137431 0.17422496461791251 -0.022082008516140172 0.26841829510322796 0.18784486923371113 0.20170064649883157 0.26991559406271826 0.061878686904872637 -0.1702801583691434 0.11872343302484661 0.27438120342942857 -0.13295617980702024 0.27433513949401478 0.13356090753793401 0.29985621683166314 -0.31644539965181412 0.27350433112973882 -0.15056735640029051 0.13740821856050334 0.10076948334125446 -0.2503108958721395 -0.17671400673619536 0.0050756284959022138 -0.095209226563629706 -0.21019035707744815 -0.28105156268411391 0.063260643806249378 -0.10926463384160628 -0.075053542196491366 -0.25508308812845842 0.26240816733375438 -0.27943474560800663 -0.26949819391629964 -0.15990832429902194 0.22839093234306784 0.29258162561103496 -0.29736820710418649 -0.17819868601694569 -0.20840733396331851 0.025387481869877767 0.29900069786224054 -0.032155497360024113 0.13039883676936065 0.11285613427066778 0.13528505911519109 -0.067080444220462915 0.11574580864353334 -0.27693555115034824 0.25629853037916356 -0.1554440129648029 0.13814134620499577 -0.046971718544679519 -0.33905572388254251 -0.2052494531527693 -0.026811525115650488 -0.13023494841216346 0.020137001515600137 -0.20548828765734942 -0.001095178998016129 0.3056272465376631 0.19880772725547249 0.16206045441641417 -0.31804355984071742 -0.15274804655328952 -0.29054526953243859 -0.12139126629110063 0.28262129370767597 -0.23011716721922099 0.30486161369544656 0.26452030414184646 -0.23624191722793234 -0.10644600836375449 -0.25905549330032285 0.26335417658002935 -0.19954569481396184 0.0099451319179831611 0.074985378785442897 -0.17661510122914309 0.061788248778295043 0.15097917976497158 -0.33421945775903283 0.28264085189657334 -0.33239875492608223 0.13874895491422712 -0.062114686539232758 -0.29669103169702299 -0.18826082241012115 0.077013182573880859 0.25965649315154554 0.19680738410975346 0.19799007393947368 -0.2678509247630082 0.0072148395421497155 -0.15906370663021538 0.2920289294265111 -0.093429473071599517 -0.18935069710710659 0.2574972116181668 -0.089603819307879737 0.14487947394619896 -0.089549475649535623 -0.051391623385367555 0.24563895454676396 -0.06068311065592806 -0.084008142634481142 0.20333001797168179 -0.18053046964867611 -0.13874668580502131 -0.28745377739668843 -0.10994697262532316 0.26665781267632993 0.28690318528347569 -0.17845051703960482 0.24642176586506928 -0.1336621942674191 -0.079890585756412211 -0.22212729678923535 -0.24378407075285621 0.13709877051072314 0.31638269005838993 -0.33479762202340102 -0.033880121048671365 0.20056377514123264 0.13769208176341663 0.36494724600564893 -0.079661882707253967 -0.37103098417441432 -0.30068522137082665 0.082117871679433491 -0.29942665495425691 0.27058961389856157 -0.15500709428896758 0.38581627926298429 -0.47861730804951202 0.41852916023181436 -0.60951648886300991 1.3146517161575624 -2.2351390596578953 -0.58276320521477909 -0.59245460631382652 0.91581859490905471 0.38373150440400944 0.42518992388813481 -0.72923134129611489 0.41710841971301965 -0.73844414526748547 0.27099122762806876 -0.27398540000882149 -0.97781189997963058 1.0639704276703523 0.66010291413551003 -0.61132078090165187 0.45136752562028265 0.34163561272686338 0.4996439128760527 -0.40673407728034477 -0.29227399971064255 -0.12573193233223595 -0.091586718571009404 0.26626116910432607 0.21142357324972891];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,1); % samples

% Input 1
x1 = x1';
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = logsig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Output 1
y1 = a2;
y1 = y1';
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Positive Transfer Function
function a = logsig_apply(n,~)
a = 1 ./ (1 + exp(-n));
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end
